{"ast":null,"code":"import axios from 'axios';\n// бесплатное API\nconst API_URL = 'https://api.exchangerate-api.com/v4/latest';\nexport const fetchCurrentRates = async baseCurrency => {\n  try {\n    const response = await axios.get(`${API_URL}/${baseCurrency}`);\n    return {\n      base: response.data.base,\n      rates: response.data.rates,\n      date: response.data.date\n    };\n  } catch (error) {\n    console.error('Error fetching rates:', error);\n    throw error;\n  }\n};\nexport const fetchHistoricalRates = async (baseCurrency, targetCurrency, days) => {\n  //  моковые данные\n  const historicalData = {};\n  const today = new Date();\n\n  // базовый курс \n  const baseRate = 0.92;\n  for (let i = days; i >= 0; i--) {\n    const date = new Date(today);\n    date.setDate(date.getDate() - i);\n    const dateStr = date.toISOString().split('T')[0];\n\n    // небольшие колебания курса для реалистичности\n    const variation = Math.random() * 0.04 - 0.02; // от -0.02 до +0.02\n    const rate = baseRate + variation;\n    historicalData[dateStr] = {\n      [targetCurrency]: Number(rate.toFixed(4))\n    };\n  }\n  return historicalData;\n};","map":{"version":3,"names":["axios","API_URL","fetchCurrentRates","baseCurrency","response","get","base","data","rates","date","error","console","fetchHistoricalRates","targetCurrency","days","historicalData","today","Date","baseRate","i","setDate","getDate","dateStr","toISOString","split","variation","Math","random","rate","Number","toFixed"],"sources":["C:/Users/Полина/currency-converter/src/services/currencyApi.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { CurrencyData, HistoricalData } from '../types/currency.types';\r\n\r\n// бесплатное API\r\nconst API_URL = 'https://api.exchangerate-api.com/v4/latest';\r\n\r\nexport const fetchCurrentRates = async (baseCurrency: string): Promise<CurrencyData> => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/${baseCurrency}`);\r\n    return {\r\n      base: response.data.base,\r\n      rates: response.data.rates,\r\n      date: response.data.date\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching rates:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const fetchHistoricalRates = async (\r\n  baseCurrency: string, \r\n  targetCurrency: string, \r\n  days: number\r\n): Promise<HistoricalData> => {\r\n  //  моковые данные\r\n  const historicalData: HistoricalData = {};\r\n  const today = new Date();\r\n  \r\n  // базовый курс \r\n  const baseRate = 0.92; \r\n  \r\n  for (let i = days; i >= 0; i--) {\r\n    const date = new Date(today);\r\n    date.setDate(date.getDate() - i);\r\n    const dateStr = date.toISOString().split('T')[0];\r\n    \r\n    // небольшие колебания курса для реалистичности\r\n    const variation = (Math.random() * 0.04) - 0.02; // от -0.02 до +0.02\r\n    const rate = baseRate + variation;\r\n    \r\n    historicalData[dateStr] = {\r\n      [targetCurrency]: Number(rate.toFixed(4))\r\n    };\r\n  }\r\n  \r\n  return historicalData;\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB;AACA,MAAMC,OAAO,GAAG,4CAA4C;AAE5D,OAAO,MAAMC,iBAAiB,GAAG,MAAOC,YAAoB,IAA4B;EACtF,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,GAAGJ,OAAO,IAAIE,YAAY,EAAE,CAAC;IAC9D,OAAO;MACLG,IAAI,EAAEF,QAAQ,CAACG,IAAI,CAACD,IAAI;MACxBE,KAAK,EAAEJ,QAAQ,CAACG,IAAI,CAACC,KAAK;MAC1BC,IAAI,EAAEL,QAAQ,CAACG,IAAI,CAACE;IACtB,CAAC;EACH,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAME,oBAAoB,GAAG,MAAAA,CAClCT,YAAoB,EACpBU,cAAsB,EACtBC,IAAY,KACgB;EAC5B;EACA,MAAMC,cAA8B,GAAG,CAAC,CAAC;EACzC,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;;EAExB;EACA,MAAMC,QAAQ,GAAG,IAAI;EAErB,KAAK,IAAIC,CAAC,GAAGL,IAAI,EAAEK,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;IAC9B,MAAMV,IAAI,GAAG,IAAIQ,IAAI,CAACD,KAAK,CAAC;IAC5BP,IAAI,CAACW,OAAO,CAACX,IAAI,CAACY,OAAO,CAAC,CAAC,GAAGF,CAAC,CAAC;IAChC,MAAMG,OAAO,GAAGb,IAAI,CAACc,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;IAEhD;IACA,MAAMC,SAAS,GAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,IAAI,GAAI,IAAI,CAAC,CAAC;IACjD,MAAMC,IAAI,GAAGV,QAAQ,GAAGO,SAAS;IAEjCV,cAAc,CAACO,OAAO,CAAC,GAAG;MACxB,CAACT,cAAc,GAAGgB,MAAM,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,CAAC;IAC1C,CAAC;EACH;EAEA,OAAOf,cAAc;AACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}