{"ast":null,"code":"import React,{useState}from'react';import{CURRENCIES}from'../../utils/constants';import{useCurrency}from'../../hooks/useCurrency';import{CurrencyChart}from'../CurrencyChart/CurrencyChart';import styles from'./Converter.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Converter=()=>{const{fromCurrency,setFromCurrency,toCurrency,setToCurrency,amount,setAmount,result,loading,error,swapCurrencies}=useCurrency();const[timeRange,setTimeRange]=useState('week');const handleAmountChange=e=>{const value=parseFloat(e.target.value);if(!isNaN(value)&&value>=0){setAmount(value);}};return/*#__PURE__*/_jsxs(\"div\",{className:styles.converter,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.title,children:\"\\u041A\\u043E\\u043D\\u0432\\u0435\\u0440\\u0442\\u0435\\u0440 \\u0432\\u0430\\u043B\\u044E\\u0442\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.inputGroup,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.inputWrapper,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"\\u0421\\u0443\\u043C\\u043C\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{id:\"amount\",type:\"number\",value:amount,onChange:handleAmountChange,min:\"0\",step:\"0.01\",className:styles.input,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.inputWrapper,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fromCurrency\",children:\"\\u0418\\u0437\"}),/*#__PURE__*/_jsx(\"select\",{id:\"fromCurrency\",value:fromCurrency,onChange:e=>setFromCurrency(e.target.value),className:styles.select,children:CURRENCIES.map(currency=>/*#__PURE__*/_jsxs(\"option\",{value:currency.code,children:[currency.code,\" - \",currency.name]},currency.code))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:swapCurrencies,className:styles.swapButton,\"aria-label\":\"\\u041F\\u043E\\u043C\\u0435\\u043D\\u044F\\u0442\\u044C \\u0432\\u0430\\u043B\\u044E\\u0442\\u044B\",children:\"\\u21C4\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.inputWrapper,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"toCurrency\",children:\"\\u0412\"}),/*#__PURE__*/_jsx(\"select\",{id:\"toCurrency\",value:toCurrency,onChange:e=>setToCurrency(e.target.value),className:styles.select,children:CURRENCIES.map(currency=>/*#__PURE__*/_jsxs(\"option\",{value:currency.code,children:[currency.code,\" - \",currency.name]},currency.code))})]})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:styles.loading,children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:styles.error,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\" \",error]}),error.includes('API key')&&/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',marginTop:'10px'},children:\"\\u0423\\u0431\\u0435\\u0434\\u0438\\u0442\\u0435\\u0441\\u044C, \\u0447\\u0442\\u043E \\u0444\\u0430\\u0439\\u043B .env \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442 \\u0438 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0438\\u0442 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 API \\u043A\\u043B\\u044E\\u0447\"})]}),!loading&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:styles.result,children:[/*#__PURE__*/_jsxs(\"span\",{className:styles.resultText,children:[amount,\" \",fromCurrency,\" =\"]}),/*#__PURE__*/_jsxs(\"span\",{className:styles.resultValue,children:[result.toFixed(2),\" \",toCurrency]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.chartSection,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.chartTitle,children:\"\\u0413\\u0440\\u0430\\u0444\\u0438\\u043A \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F \\u043A\\u0443\\u0440\\u0441\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.chartControls,children:[/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(styles.timeButton,\" \").concat(timeRange==='week'?styles.active:''),onClick:()=>setTimeRange('week'),children:\"\\u041D\\u0435\\u0434\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(styles.timeButton,\" \").concat(timeRange==='month'?styles.active:''),onClick:()=>setTimeRange('month'),children:\"\\u041C\\u0435\\u0441\\u044F\\u0446\"})]}),/*#__PURE__*/_jsx(CurrencyChart,{fromCurrency:fromCurrency,toCurrency:toCurrency,timeRange:timeRange})]})]});};","map":{"version":3,"names":["React","useState","CURRENCIES","useCurrency","CurrencyChart","styles","jsx","_jsx","jsxs","_jsxs","Converter","fromCurrency","setFromCurrency","toCurrency","setToCurrency","amount","setAmount","result","loading","error","swapCurrencies","timeRange","setTimeRange","handleAmountChange","e","value","parseFloat","target","isNaN","className","converter","children","title","card","inputGroup","inputWrapper","htmlFor","id","type","onChange","min","step","input","placeholder","select","map","currency","code","name","onClick","swapButton","includes","style","fontSize","marginTop","resultText","resultValue","toFixed","chartSection","chartTitle","chartControls","concat","timeButton","active"],"sources":["C:/Users/Полина/currency-converter/src/components/Converter/Converter.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { CURRENCIES } from '../../utils/constants';\r\nimport { useCurrency } from '../../hooks/useCurrency';\r\nimport { CurrencyChart } from '../CurrencyChart/CurrencyChart';\r\nimport styles from './Converter.module.css';\r\n\r\nexport const Converter: React.FC = () => {\r\n  const {\r\n    fromCurrency,\r\n    setFromCurrency,\r\n    toCurrency,\r\n    setToCurrency,\r\n    amount,\r\n    setAmount,\r\n    result,\r\n    loading,\r\n    error,\r\n    swapCurrencies\r\n  } = useCurrency();\r\n\r\n  const [timeRange, setTimeRange] = useState<'week' | 'month'>('week');\r\n\r\n  const handleAmountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = parseFloat(e.target.value);\r\n    if (!isNaN(value) && value >= 0) {\r\n      setAmount(value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.converter}>\r\n      <h1 className={styles.title}>Конвертер валют</h1>\r\n      \r\n      <div className={styles.card}>\r\n        <div className={styles.inputGroup}>\r\n          <div className={styles.inputWrapper}>\r\n            <label htmlFor=\"amount\">Сумма</label>\r\n            <input\r\n              id=\"amount\"\r\n              type=\"number\"\r\n              value={amount}\r\n              onChange={handleAmountChange}\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n              className={styles.input}\r\n              placeholder=\"Введите сумму\"\r\n            />\r\n          </div>\r\n\r\n          <div className={styles.inputWrapper}>\r\n            <label htmlFor=\"fromCurrency\">Из</label>\r\n            <select\r\n              id=\"fromCurrency\"\r\n              value={fromCurrency}\r\n              onChange={(e) => setFromCurrency(e.target.value)}\r\n              className={styles.select}\r\n            >\r\n              {CURRENCIES.map(currency => (\r\n                <option key={currency.code} value={currency.code}>\r\n                  {currency.code} - {currency.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <button onClick={swapCurrencies} className={styles.swapButton} aria-label=\"Поменять валюты\">\r\n            ⇄\r\n          </button>\r\n\r\n          <div className={styles.inputWrapper}>\r\n            <label htmlFor=\"toCurrency\">В</label>\r\n            <select\r\n              id=\"toCurrency\"\r\n              value={toCurrency}\r\n              onChange={(e) => setToCurrency(e.target.value)}\r\n              className={styles.select}\r\n            >\r\n              {CURRENCIES.map(currency => (\r\n                <option key={currency.code} value={currency.code}>\r\n                  {currency.code} - {currency.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {loading && <div className={styles.loading}>Загрузка...</div>}\r\n\r\n{error && (\r\n  <div className={styles.error}>\r\n    <p> {error}</p>\r\n    {error.includes('API key') && (\r\n      <p style={{ fontSize: '14px', marginTop: '10px' }}>\r\n         Убедитесь, что файл .env существует и содержит правильный API ключ\r\n      </p>\r\n    )}\r\n  </div>\r\n)}        \r\n        {!loading && !error && (\r\n          <div className={styles.result}>\r\n            <span className={styles.resultText}>\r\n              {amount} {fromCurrency} =\r\n            </span>\r\n            <span className={styles.resultValue}>\r\n              {result.toFixed(2)} {toCurrency}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className={styles.chartSection}>\r\n        <h2 className={styles.chartTitle}>График изменения курса</h2>\r\n        <div className={styles.chartControls}>\r\n          <button\r\n            className={`${styles.timeButton} ${timeRange === 'week' ? styles.active : ''}`}\r\n            onClick={() => setTimeRange('week')}\r\n          >\r\n            Неделя\r\n          </button>\r\n          <button\r\n            className={`${styles.timeButton} ${timeRange === 'month' ? styles.active : ''}`}\r\n            onClick={() => setTimeRange('month')}\r\n          >\r\n            Месяц\r\n          </button>\r\n        </div>\r\n        \r\n        <CurrencyChart\r\n          fromCurrency={fromCurrency}\r\n          toCurrency={toCurrency}\r\n          timeRange={timeRange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}