{"ast":null,"code":"import axios from'axios';// бесплатное API\nconst API_URL='https://api.exchangerate-api.com/v4/latest';export const fetchCurrentRates=async baseCurrency=>{try{const response=await axios.get(\"\".concat(API_URL,\"/\").concat(baseCurrency));return{base:response.data.base,rates:response.data.rates,date:response.data.date};}catch(error){console.error('Error fetching rates:',error);throw error;}};export const fetchHistoricalRates=async(baseCurrency,targetCurrency,days)=>{//  моковые данные\nconst historicalData={};const today=new Date();// базовый курс \nconst baseRate=0.92;for(let i=days;i>=0;i--){const date=new Date(today);date.setDate(date.getDate()-i);const dateStr=date.toISOString().split('T')[0];// небольшие колебания курса для реалистичности\nconst variation=Math.random()*0.04-0.02;// от -0.02 до +0.02\nconst rate=baseRate+variation;historicalData[dateStr]={[targetCurrency]:Number(rate.toFixed(4))};}return historicalData;};","map":{"version":3,"names":["axios","API_URL","fetchCurrentRates","baseCurrency","response","get","concat","base","data","rates","date","error","console","fetchHistoricalRates","targetCurrency","days","historicalData","today","Date","baseRate","i","setDate","getDate","dateStr","toISOString","split","variation","Math","random","rate","Number","toFixed"],"sources":["C:/Users/Полина/currency-converter/src/services/currencyApi.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { CurrencyData, HistoricalData } from '../types/currency.types';\r\n\r\n// бесплатное API\r\nconst API_URL = 'https://api.exchangerate-api.com/v4/latest';\r\n\r\nexport const fetchCurrentRates = async (baseCurrency: string): Promise<CurrencyData> => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/${baseCurrency}`);\r\n    return {\r\n      base: response.data.base,\r\n      rates: response.data.rates,\r\n      date: response.data.date\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching rates:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const fetchHistoricalRates = async (\r\n  baseCurrency: string, \r\n  targetCurrency: string, \r\n  days: number\r\n): Promise<HistoricalData> => {\r\n  //  моковые данные\r\n  const historicalData: HistoricalData = {};\r\n  const today = new Date();\r\n  \r\n  // базовый курс \r\n  const baseRate = 0.92; \r\n  \r\n  for (let i = days; i >= 0; i--) {\r\n    const date = new Date(today);\r\n    date.setDate(date.getDate() - i);\r\n    const dateStr = date.toISOString().split('T')[0];\r\n    \r\n    // небольшие колебания курса для реалистичности\r\n    const variation = (Math.random() * 0.04) - 0.02; // от -0.02 до +0.02\r\n    const rate = baseRate + variation;\r\n    \r\n    historicalData[dateStr] = {\r\n      [targetCurrency]: Number(rate.toFixed(4))\r\n    };\r\n  }\r\n  \r\n  return historicalData;\r\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAGzB;AACA,KAAM,CAAAC,OAAO,CAAG,4CAA4C,CAE5D,MAAO,MAAM,CAAAC,iBAAiB,CAAG,KAAO,CAAAC,YAAoB,EAA4B,CACtF,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAJ,KAAK,CAACK,GAAG,IAAAC,MAAA,CAAIL,OAAO,MAAAK,MAAA,CAAIH,YAAY,CAAE,CAAC,CAC9D,MAAO,CACLI,IAAI,CAAEH,QAAQ,CAACI,IAAI,CAACD,IAAI,CACxBE,KAAK,CAAEL,QAAQ,CAACI,IAAI,CAACC,KAAK,CAC1BC,IAAI,CAAEN,QAAQ,CAACI,IAAI,CAACE,IACtB,CAAC,CACH,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAE,oBAAoB,CAAG,KAAAA,CAClCV,YAAoB,CACpBW,cAAsB,CACtBC,IAAY,GACgB,CAC5B;AACA,KAAM,CAAAC,cAA8B,CAAG,CAAC,CAAC,CACzC,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAExB;AACA,KAAM,CAAAC,QAAQ,CAAG,IAAI,CAErB,IAAK,GAAI,CAAAC,CAAC,CAAGL,IAAI,CAAEK,CAAC,EAAI,CAAC,CAAEA,CAAC,EAAE,CAAE,CAC9B,KAAM,CAAAV,IAAI,CAAG,GAAI,CAAAQ,IAAI,CAACD,KAAK,CAAC,CAC5BP,IAAI,CAACW,OAAO,CAACX,IAAI,CAACY,OAAO,CAAC,CAAC,CAAGF,CAAC,CAAC,CAChC,KAAM,CAAAG,OAAO,CAAGb,IAAI,CAACc,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAEhD;AACA,KAAM,CAAAC,SAAS,CAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,IAAI,CAAI,IAAI,CAAE;AACjD,KAAM,CAAAC,IAAI,CAAGV,QAAQ,CAAGO,SAAS,CAEjCV,cAAc,CAACO,OAAO,CAAC,CAAG,CACxB,CAACT,cAAc,EAAGgB,MAAM,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,CAAC,CAC1C,CAAC,CACH,CAEA,MAAO,CAAAf,cAAc,CACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}